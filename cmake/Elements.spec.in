Summary:        Euclid @CPACK_PACKAGE_NAME@ Project
Name:           @CPACK_PACKAGE_NAME@
Version:        @CPACK_PACKAGE_VERSION@
Release:        @CPACK_PACKAGE_RELEASE@%{?dist}
License:        Public Domain
Group:          Development/Tools
Source:         @CPACK_PACKAGE_NAME@-@CPACK_PACKAGE_VERSION@.tar.gz
Vendor:         @CPACK_PACKAGE_VENDOR@


BuildRoot: %{_tmppath}/%{name}-root

BuildRequires: gcc > 4.7, cmake >= 2.6
#BuildRequires: Elements-devel >= 1.2


Requires:       boost >= 1.48
BuildRequires:  cmake >= 2.8.5
BuildArch:      @CPACK_RPM_PACKAGE_ARCHITECTURE@
# AutoReqProv:    no
 
%define _rpmdir @CMAKE_CURRENT_BINARY_DIR@/_CPack_Packages/@CPACK_SYSTEM_NAME@/RPM
# %define _rpmfilename @CPACK_PACKAGE_FILE_NAME@.rpm
# %define _rpmfilename @CPACK_PACKAGE_NAME@-@CPACK_PACKAGE_VERSION@-@CPACK_SYSTEM_NAME@.rpm
%define _rpmfilename @CPACK_PACKAGE_NAME@-@CPACK_PACKAGE_VERSION@-@CPACK_PACKAGE_RELEASE@.@CPACK_RPM_PACKAGE_ARCHITECTURE@.rpm
%define _unpackaged_files_terminate_build 0
%define _topdir @CMAKE_CURRENT_BINARY_DIR@/_CPack_Packages/@CPACK_SYSTEM_NAME@/RPM
 
%description
@CPACK_RPM_PACKAGE_DESCRIPTION@
 
# This is a shortcutted spec file generated by CMake RPM generator
# we skip _install step because CPack does that for us.
# We do only save CPack installed tree in _prepr
# and then restore it in build.
%prep
mv $RPM_BUILD_ROOT @CMAKE_CURRENT_BINARY_DIR@/_CPack_Packages/@CPACK_SYSTEM_NAME@/RPM/tmpBBroot
 
%install
if [ -e $RPM_BUILD_ROOT ];
then
  rm -Rf $RPM_BUILD_ROOT
fi
mv "@CMAKE_CURRENT_BINARY_DIR@/_CPack_Packages/@CPACK_SYSTEM_NAME@/RPM/tmpBBroot" $RPM_BUILD_ROOT
 
%files
%defattr(-,root,root,-)
@CPACK_PACKAGING_INSTALL_PREFIX@/*
 
%changelog
